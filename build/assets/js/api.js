const limit=24,queries=new URLSearchParams(window.location.search);var currentPage=parseInt(queries.get("page"))||1;const API_URL=`https://api.jikan.moe/v4/anime?order_by=members&sort=desc&limit=${limit}&page=`+currentPage,prevBtn=document.getElementsByClassName("prev")[0],nextBtn=document.getElementsByClassName("next")[0];async function getAnime(){let e=await fetch(API_URL),t=await e.json();var a=Math.ceil(23593/limit);t.meta?Math.ceil(t.meta.total/limit):Math.ceil(23593/limit),prevBtn.href="?page="+(currentPage-1),nextBtn.href="?page="+(currentPage+1),a<currentPage&&(currentPage=a,prevBtn.href="?page="+(currentPage-1),nextBtn.href="?page="+currentPage),currentPage<1&&(currentPage=1,prevBtn.href="?page="+currentPage,nextBtn.href="?page="+(currentPage+1)),console.log(a,currentPage,t),t.data.forEach(e=>{const t=document.createElement("article");t.classList.add("apiArticle"),t.addEventListener("click",function(){window.location.href=`/anime.html?anime=${e.title_english}&page=`+currentPage});var a=`
        <img class="apiArticle__img" src="/assets/img/loading.gif" alt ="${e.title_english} Image">
        <h1 class="apiArticle__primaryHeading"><a class="apiArticle__link" href="/anime.html?anime=${e.title_english}" target="_blank">${e.popularity}. ${e.title_english}</a></h1>
        <h2 class="apiArticle__secondaryHeading">${e.title_japanese}</h2>
        <p class="apiArticle__score">Score: ${e.score}‚≠ê</p>
        <p class="apiArticle__members">Members: ${e.members}</p>
    `;t.innerHTML+=a;let r=document.querySelector(".apiElements");r.appendChild(t);const n=new Image,i=(n.src=""+e.images.webp.large_image_url,t.querySelector("img"));n.onload=function(){i.src=n.src}})}let pageIdentifier=document.querySelector(".pageIdentifier");pageIdentifier.innerHTML="Page: "+currentPage+" / 983",getAnime();